\section{Produktanforderungen}

Allgemein müssen neben allen verwendeten Komponenten auch das von uns ausgelieferte
Produkt, insbesondere erstellte Software und die erhobenen Messdaten, frei lizensiert
sein, sodass Dritten eine Weiterverwendung dieser Daten möglich ist.\\

Mithilfe von Messstationen werden über Sensoren Daten zur Bestimmung von Wasserqualität
gemessen. Die eingesetzten Messstationen müssen den Umwelteinflüssen am Messstandort
standhalten. Ihre Gehäuse müssen also wasserdicht und witterungsfest sein. Zudem muss
eine praktikable Methode zur Stromversorgung der Messstationen gegeben sein.
\commentKayo{Unnötig da wir das Festnetz benutzen}\rem{Dies bedeutet, dass diese entweder
fest ans Netz angeschlossen werden, oder ein System mit Akku entwickelt werden muss,
das über eine hohe Lebensdauer verfügt und rechtzeitig warnt, wenn ein Akkuaustausch
nötig ist.}\\

Die gemessenen Daten werden über LoRaWAN an TTN übertragen. Anschließend werden diese
Daten über eine der verfügbaren Schnittstellen aus dem TTN an einen Datenbankserver
weitergeleitet und dort persistent gespeichert. Die Daten werden strukturiert abgelegt,
sodass erkenntlich ist, um welchen Sensor es sich handelt und wie die Daten zu
interpretieren sind. Weiterhin sollen die persistent gespeicherten Daten Dritten über
eine oder mehrere Schnittstellen zugänglich gemacht werden.

\subsection{Gruppen von Anforderungen}

Die Anforderungen sind wie folgt gruppiert:
\begin{itemize}
	\item M: Messstation zur Erfassung der Wasserqualitätsparameter
	\item S: Server zur Speicherung der erfassten Daten
\end{itemize}

Weitergehend besitzen die Gruppen folgende Untergruppen:
\begin{itemize}
	\item M.0xx: Hardware spezifische Anforderungen der Messstation
	\item M.1xx: Software spezifische Anforderungen der Messstation
	\item S.0xx: Hardware spezifische Anforderungen des Servers
	\item S.1xx: Software spezifische Anforderungen des Servers
\end{itemize}

\subsection{Funktionale Anforderungen}

\begin{description}
	\item[M.001]
		Die Messstation besteht aus einem Arduino Uno mit Dragino LoRa Shield, den in
		Anforderung M.002 beschriebenen Sensoren, und einem Gehäuse.

	\item[M.002]
		Es werden folgende Sensoren zum ermitteln von Daten verwendet: pH-Sensor,
		Wassertemperatursensor, Trübheitssensor.

	\item[M.003]
		Das Gehäuse der Messstation muss wasserdicht sein.

	\item[M.004]
		Das Gehäuse muss mindestens der Schutzart IP65 entsprechen.

	\item[M.005]
		Die in Anforderung M.002 beschriebenen Sensoren müssen wasserdicht sein.

	\item[M.006]
		Die Messstation wird über einen Festnetzanschluss auf dem Kahn des Vereins
		\glqq Flussbad Berlin\grqq{} mit Strom versorgt.
\end{description}

\begin{description}
	\item[M.101]
		Es werden mithilfe der in Anforderung M.002 beschriebenen Sensoren Daten gemessen.

	\item[M.102]
		Die erfassten Messdaten werden über das LoRaWAN Protokoll von der Messstation
		an TTN übertragen.

	\item[M.103]
		Die Daten werden mithilfe einer HTTP-Integration von TTN an unseren Server
		weitergeleitet.

	\item[M.104]
		Die erfassten Messdaten werden in einem festgelegten Zeitintervall an TTN
		gesendet.

	\item[M.105]
		Die Messdaten werden vor dem Übertragen an TTN so strukturiert, dass zu einem
		späteren Zeitpunkt erkenntlich ist, welcher Parameter gemessen wurden und wie
		die gemessenen Werte zu interpretieren sind.

	\item[M.106]
		Die Messstation muss in einem TTN Konto registriert und als sog.
		\glqq Collaborator\grqq{} zum Konto der TSB hinzufgefügt werden.

	\item[M.107]
		Alle genutzten und von uns erstellten Software-Komponenten sind frei lizensiert.
\end{description}

\begin{description}
	\item[S.001]
		Der Server bietet mindestens PHP-Funktionalität und eine relationale Datenbank.

	\item[S.002]
		Bei dem Server handelt es sich um ein Webhosting-Paket, um den
		Administrationsaufwand zu minimieren.
\end{description}

\begin{description}
	\item[S.101]
		Der Server verarbeitet mithilfe eines PHP-Skriptes die von TTN empfangenen
		Daten und schreibt diese in eine MySQL Datenbank.

	\item[S.102]
		Die Daten werden strukturiert in die Datenbank abgelegt. Die Struktur ist im
		ER-Modell beschrieben.

	\item[S.103]
		Der Server stellt die erfassten Daten über eine öffentliche HTTP(S)-Schnittstelle
		im JSON-Format Dritten zur Verfügung.

	\item[S.104]
		Alle genutzten und von uns erstellten Software-Komponenten sind frei lizensiert.
\end{description}


\subsection{Nichtfunktionale Anforderungen}

\descriptionWhat{präzisierte nichtfunktionale Anforderungen}

\begin{itemize}
	\item Wasserdichtigkeit eines Gehäuse und Sensoren
	\item \commentKayo{Ist hier nötig? \\ \glqq wie\grqq{} genau regelmäßig?}Sensoren liefern regelmäßige Messdaten
	\item Energieversorgung
	\item Funktionalität und Performance des Servers
\end{itemize}

\paragraph{\uline{Wasserdichtigkeit}}
Ein wasserdichte Gehäuse für die Messstation hält den Witterungen am Standort Kupfergraben/Spree statt. Das Gehäuse muss mindestens der Schutzart IP65 entsprechen. Die Sensoren müssen ebenfalls wasserdicht gemacht werden.

\paragraph{\uline{Energieversorgung}}
Die Messstation wird durch das Festnetz betrieben. Das Festnetz kann direkt vom Filteranlage des Vereins Flussbad Berlin besorgt werden.

\paragraph{\uline{Server}}
Wegen des leichten Aufwand bei Administration und der genügenden Funktionalitäten wird XXX von ZZZ als der zentrale Server für die Datenspeicherung verwendet. Beschreibung der Performance-Anforderung, Beschreibung eines Sicherheitskonzept
